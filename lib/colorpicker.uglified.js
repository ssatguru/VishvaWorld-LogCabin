!function(t,e,i){function o(i,o,s){var n,r=0,l=0,a=o.getBoundingClientRect();return i=i||t.event,i.pageX||i.pageY?(r=i.pageX,l=i.pageY):(i.clientX||i.clientY)&&(r=i.clientX+e.body.scrollLeft+e.documentElement.scrollLeft,l=i.clientY+e.body.scrollTop+e.documentElement.scrollTop),n={x:r-a.left,y:l-a.top},s&&(n.x=Math.max(0,Math.min(o.offsetWidth,n.x)),n.y=Math.max(0,Math.min(o.offsetHeight,n.y))),n}function s(t,i,o){t=e.createElementNS(y,t);for(var s in i)t.setAttribute(s,i[s]);"[object Array]"!=Object.prototype.toString.call(o)&&(o=[o]);for(var n=0,r=o[0]&&o.length||0;n<r;n++)t.appendChild(o[n]);return t}function n(t){var e,i,o,s,n,r=t.h%360/60;n=t.v*t.s,s=n*(1-Math.abs(r%2-1)),e=i=o=t.v-n,r=~~r,e+=[n,s,0,0,s,n][r],i+=[s,n,n,s,0,0][r],o+=[0,0,s,n,n,s][r];var l=Math.floor(255*e),a=Math.floor(255*i),c=Math.floor(255*o);return{r:l,g:a,b:c,hex:"#"+(16777216|c|a<<8|l<<16).toString(16).slice(1)}}function r(t){var e=t.r,i=t.g,o=t.b;(t.r>1||t.g>1||t.b>1)&&(e/=255,i/=255,o/=255);var s,n,r,l;return r=Math.max(e,i,o),l=r-Math.min(e,i,o),s=0==l?null:r==e?(i-o)/l+(i<o?6:0):r==i?(o-e)/l+2:(e-i)/l+4,s=s%6*60,n=0==l?0:l/r,{h:s,s:n,v:r}}function l(e,s,r){return function(l){l=l||t.event;var a=o(l,s,!0);e.h=a.y/s.offsetHeight*360+m;var c=n({h:e.h,s:1,v:1}),h=n({h:e.h,s:e.s,v:e.v});r.style.backgroundColor=c.hex,e.callback&&e.callback(h.hex,{h:e.h-m,s:e.s,v:e.v},{r:h.r,g:h.g,b:h.b},i,a)}}function a(e,i){return function(s){s=s||t.event;var r=o(s,i,!0),l=i.offsetWidth,a=i.offsetHeight;e.s=r.x/l,e.v=(a-r.y)/a;var c=n(e);e.callback&&e.callback(c.hex,{h:e.h-m,s:e.s,v:e.v},{r:c.r,g:c.g,b:c.b},r)}}function c(t,e,i){if(!(this instanceof c))return new c(t,e,i);if(this.h=0,this.s=1,this.v=1,i)this.callback=i,this.pickerElement=e,this.slideElement=t;else{var o=t;o.innerHTML=b,this.slideElement=o.getElementsByClassName("slide")[0],this.pickerElement=o.getElementsByClassName("picker")[0];var s=o.getElementsByClassName("slide-indicator")[0],n=o.getElementsByClassName("picker-indicator")[0];c.fixIndicators(s,n),this.callback=function(t,i,o,r,l){c.positionIndicators(s,n,l,r),e(t,i,o)}}if("SVG"==g){var r=u.cloneNode(!0),p=v.cloneNode(!0),d=r.getElementsByTagName("linearGradient")[0],m=r.getElementsByTagName("rect")[0];d.id="gradient-hsv-"+x,m.setAttribute("fill","url(#"+d.id+")");var y=[p.getElementsByTagName("linearGradient")[0],p.getElementsByTagName("linearGradient")[1]],E=p.getElementsByTagName("rect");y[0].id="gradient-black-"+x,y[1].id="gradient-white-"+x,E[0].setAttribute("fill","url(#"+y[1].id+")"),E[1].setAttribute("fill","url(#"+y[0].id+")"),this.slideElement.appendChild(r),this.pickerElement.appendChild(p),x++}else this.slideElement.innerHTML=u,this.pickerElement.innerHTML=v;h(this.slideElement,"click",l(this,this.slideElement,this.pickerElement)),h(this.pickerElement,"click",a(this,this.pickerElement)),f(this,this.slideElement,l(this,this.slideElement,this.pickerElement)),f(this,this.pickerElement,a(this,this.pickerElement))}function h(t,e,i){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener&&t.addEventListener(e,i,!1)}function p(t,e,i){t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener&&t.removeEventListener(e,i,!1)}function f(i,o,s){var n=function(){p(o,"mousedown",n),h(e.body,"mouseup",r),h(e.body,"mousemove",s)},r=function(){h(o,"mousedown",n),p(e.body,"mouseup",r),p(e.body,"mousemove",s)};h(o,"mousedown",n),h(o,"dragstart",function(e){e=e||t.event,e.preventDefault?e.preventDefault():e.returnValue=!1})}function d(t,e,i,o){t.h=e.h%360,t.s=e.s,t.v=e.v;var s=n(t),r={y:t.h*t.slideElement.offsetHeight/360,x:0},l=t.pickerElement.offsetHeight,a={x:t.s*t.pickerElement.offsetWidth,y:l-t.v*l};return t.pickerElement.style.backgroundColor=n({h:t.h,s:1,v:1}).hex,t.callback&&t.callback(o||s.hex,{h:t.h,s:t.s,v:t.v},i||{r:s.r,g:s.g,b:s.b},a,r),t}var v,u,g=t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",m=15,y="http://www.w3.org/2000/svg",b=['<div class="picker-wrapper">','<div class="picker"></div>','<div class="picker-indicator"></div>',"</div>",'<div class="slide-wrapper">','<div class="slide"></div>','<div class="slide-indicator"></div>',"</div>"].join("");"SVG"==g?(u=s("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[s("defs",{},s("linearGradient",{id:"gradient-hsv",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[s("stop",{offset:"0%","stop-color":"#FF0000","stop-opacity":"1"}),s("stop",{offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"}),s("stop",{offset:"25%","stop-color":"#8000FF","stop-opacity":"1"}),s("stop",{offset:"38%","stop-color":"#0040FF","stop-opacity":"1"}),s("stop",{offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"}),s("stop",{offset:"63%","stop-color":"#00FF40","stop-opacity":"1"}),s("stop",{offset:"75%","stop-color":"#0BED00","stop-opacity":"1"}),s("stop",{offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"}),s("stop",{offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})])),s("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-hsv)"})]),v=s("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[s("defs",{},[s("linearGradient",{id:"gradient-black",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[s("stop",{offset:"0%","stop-color":"#000000","stop-opacity":"1"}),s("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})]),s("linearGradient",{id:"gradient-white",x1:"0%",y1:"100%",x2:"100%",y2:"100%"},[s("stop",{offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"}),s("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})])]),s("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-white)"}),s("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-black)"})])):"VML"==g&&(u=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; top: 0; left: 0; width: 100%; height: 100%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="red" color2="red" colors="8519f fuchsia;.25 #8000ff;24903f #0040ff;.5 aqua;41287f #00ff40;.75 #0bed00;57671f yellow"></v:fill>',"</v:rect>","</DIV>"].join(""),v=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; left: -1px; top: -1px; width: 101%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="270" color="#FFFFFF" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>",'<v:rect style="position: absolute; left: 0px; top: 0px; width: 100%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="#000000" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>","</DIV>"].join(""),e.namespaces.v||e.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"));var x=0;c.hsv2rgb=function(t){var e=n(t);return delete e.hex,e},c.hsv2hex=function(t){return n(t).hex},c.rgb2hsv=r,c.rgb2hex=function(t){return n(r(t)).hex},c.hex2hsv=function(t){return r(c.hex2rgb(t))},c.hex2rgb=function(t){return{r:parseInt(t.substr(1,2),16),g:parseInt(t.substr(3,2),16),b:parseInt(t.substr(5,2),16)}},c.prototype.setHsv=function(t){return d(this,t)},c.prototype.setRgb=function(t){return d(this,r(t),t)},c.prototype.setHex=function(t){return d(this,c.hex2hsv(t),i,t)},c.positionIndicators=function(t,e,i,o){i&&(t.style.top=i.y-t.offsetHeight/2+"px"),o&&(e.style.top=o.y-e.offsetHeight/2+"px",e.style.left=o.x-e.offsetWidth/2+"px")},c.fixIndicators=function(t,e){e.style.pointerEvents="none",t.style.pointerEvents="none"},t.ColorPicker=c}(window,window.document);